#!/bin/sh

_hosts_autocomplete()
{
	cur=${COMP_WORDS[COMP_CWORD]}
	source ~/scripts/eos_hosts.cfg
	opts="";
	for i in "${!hosts[@]}"; do
		if [ "$opts" != "" ]; then
			opts="$opts "
		fi
		opts="$opts$i"
	done
	if [[ ${cur} == * ]] ; then
        	COMPREPLY=( $(compgen -W "${opts}" -- ${cur}) )
	        return 0
	fi
}

complete -F _hosts_autocomplete s
complete -F _hosts_autocomplete copy-id
